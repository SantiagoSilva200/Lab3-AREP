<!DOCTYPE html>
<html>
<head>
    <title>Buscador de Estudiantes</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style.css">
</head>
<body>

<img src="image.png" class="logo">

<div class="container">

    <div class="card">
        <h1>Registrar estudiante</h1>
        <input id="nombre" placeholder="Nombre">
        <input id="apellido" placeholder="Apellido">
        <input id="carrera" placeholder="Carrera">
        <label><input type="checkbox" id="matriculado" checked> Matriculado</label>
        <button onclick="registrar()">Registrar</button>
        <div id="respRegistro"></div>
    </div>

    <div class="card">
        <h1>Buscar estudiantes</h1>
        <input id="buscar" placeholder="Nombre o Apellido">
        <label><input type="checkbox" id="soloMatriculados"> Solo matriculados</label>
        <button onclick="buscar()">Buscar</button>
        <div id="respBuscar"></div>
    </div>

</div>

<script>
    function registrar() {
        const n = encodeURIComponent(document.getElementById("nombre").value);
        const a = encodeURIComponent(document.getElementById("apellido").value);
        const c = encodeURIComponent(document.getElementById("carrera").value);
        const m = document.getElementById("matriculado").checked;

        fetch(`/registrar?nombre=${n}&apellido=${a}&carrera=${c}&matriculado=${m}`, {method:'POST'})
            .then(r => r.text())
            .then(t => document.getElementById("respRegistro").innerHTML = t);
    }

    function buscar() {
        const q = encodeURIComponent(document.getElementById("buscar").value);
        const m = document.getElementById("soloMatriculados").checked;
        fetch(`/buscar?q=${q}&matriculado=${m}`)
            .then(r => r.text())
            .then(t => document.getElementById("respBuscar").innerHTML = t);
    }
</script>
</body>
</html>
